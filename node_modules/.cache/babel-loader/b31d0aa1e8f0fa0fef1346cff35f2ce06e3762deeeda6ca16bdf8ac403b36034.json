{"ast":null,"code":"var _jsxFileName = \"/Users/chenyudong/Desktop/fhevm-nft-dapp/fhevm-nft-dapp-zama/src/App.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { motion } from \"framer-motion\";\nimport Confetti from \"react-confetti\";\nimport { useWindowSize } from \"react-use\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTRACT_ADDRESS = \"0x4c020a37c1eae6138c5bbe028fe17992b3902f9f\";\nconst ABI = [{\n  inputs: [{\n    internalType: \"address\",\n    name: \"to\",\n    type: \"address\"\n  }, {\n    internalType: \"string\",\n    name: \"cid\",\n    type: \"string\"\n  }],\n  name: \"mintWithCID\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"\",\n    type: \"uint256\"\n  }],\n  stateMutability: \"nonpayable\",\n  type: \"function\"\n}];\nconst NFT_NAME = \"ZamaPuff\";\nconst NFT_DESC = \"这是 ZAMA 吉祥物的 NFT，象征智慧与好奇心，独一无二的数字收藏品。\";\nconst catImage = \"https://i.imgur.com/YUeySct.png\";\nconst SEPOLIA_PARAMS = {\n  chainId: \"0xaa36a7\",\n  chainName: \"Sepolia Test Network\",\n  nativeCurrency: {\n    name: \"Sepolia Ether\",\n    symbol: \"ETH\",\n    decimals: 18\n  },\n  rpcUrls: [\"https://rpc.sepolia.org\"],\n  blockExplorerUrls: [\"https://sepolia.etherscan.io\"]\n};\nlet fheInstance = null;\nlet Web3Storage = null;\nfunction App() {\n  _s();\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [showFireworks, setShowFireworks] = useState(false);\n  const [txHash, setTxHash] = useState(null);\n  const [fheReady, setFheReady] = useState(false);\n  const [minting, setMinting] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const {\n    width,\n    height\n  } = useWindowSize();\n\n  // 初始化 FHE SDK 和 Web3.Storage\n  useEffect(() => {\n    const loadSDKs = async () => {\n      try {\n        const {\n          initSDK,\n          createInstance\n        } = await import(\"https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.js\");\n        await initSDK();\n        fheInstance = await createInstance({\n          aclContractAddress: '0x687820221192C5B662b25367F70076A37bc79b6c',\n          kmsContractAddress: '0x1364cBBf2cDF5032C47d8226a6f6FBD2AFCDacAC',\n          inputVerifierContractAddress: '0xbc91f3daD1A5F19F8390c400196e58073B6a0BC4',\n          verifyingContractAddressDecryption: '0xb6E160B1ff80D67Bfe90A85eE06Ce0A2613607D1',\n          verifyingContractAddressInputVerification: '0x7048C39f048125eDa9d678AEbaDfB22F7900a29F',\n          chainId: 11155111,\n          gatewayChainId: 55815,\n          network: window.ethereum,\n          relayerUrl: 'https://relayer.testnet.zama.cloud'\n        });\n\n        // 使用 CDN 引入 Web3.Storage\n        const web3Module = await import('https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js');\n        Web3Storage = web3Module.Web3Storage;\n        setFheReady(true);\n        console.log(\"Zama SDK + Web3.Storage 初始化完成\");\n      } catch (err) {\n        console.error(\"SDK 初始化失败:\", err);\n      }\n    };\n    loadSDKs();\n  }, []);\n  const shortenAddress = address => address ? address.slice(0, 6) + \"...\" + address.slice(-4) : \"\";\n  const getContract = signer => new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);\n  const connectWallet = async () => {\n    if (!window.ethereum) {\n      alert(\"请安装 MetaMask!\");\n      return;\n    }\n    try {\n      const chainId = await window.ethereum.request({\n        method: \"eth_chainId\"\n      });\n      if (chainId !== SEPOLIA_PARAMS.chainId) {\n        try {\n          await window.ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [{\n              chainId: SEPOLIA_PARAMS.chainId\n            }]\n          });\n        } catch (switchError) {\n          if (switchError.code === 4902) {\n            await window.ethereum.request({\n              method: \"wallet_addEthereumChain\",\n              params: [SEPOLIA_PARAMS]\n            });\n          } else {\n            throw switchError;\n          }\n        }\n      }\n      const accounts = await window.ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      console.error(err);\n      alert(\"连接钱包失败: \" + err.message);\n    }\n  };\n  const disconnectWallet = () => {\n    setWalletAddress(null);\n    setShowFireworks(false);\n    setTxHash(null);\n  };\n\n  // Mint NFT: FHE 加密 -> 上传 IPFS -> 链上存 CID\n  const handleMint = async () => {\n    if (!walletAddress) {\n      alert(\"请先连接钱包\");\n      return;\n    }\n    if (!fheReady) {\n      alert(\"SDK 初始化中，请稍等\");\n      return;\n    }\n    setMinting(true);\n    setProgress(0);\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const contract = getContract(signer);\n\n      // 1️⃣ Zama FHE 加密\n      const encodedText = ethers.toUtf8Bytes(`${NFT_NAME} - ${NFT_DESC}`);\n      const chunkSize = 32;\n      let ciphertextHandles = [];\n      for (let i = 0; i < encodedText.length; i += chunkSize) {\n        const chunk = encodedText.slice(i, i + chunkSize);\n        const buffer = fheInstance.createEncryptedInput(CONTRACT_ADDRESS, await signer.getAddress());\n        for (let j = 0; j < chunk.length; j++) {\n          buffer.add64(BigInt(chunk[j]));\n        }\n        const ciphertext = await buffer.encrypt();\n        ciphertextHandles.push(...ciphertext.handles);\n        setProgress(Math.min(100, Math.floor((i + chunk.length) / encodedText.length * 100)));\n        await new Promise(resolve => setTimeout(resolve, 50)); // 防止浏览器卡顿\n      }\n\n      // 2️⃣ 上传加密数据到 IPFS\n      const token = \"YOUR_WEB3STORAGE_API_TOKEN\"; // 替换成你自己的\n      const client = new Web3Storage({\n        token\n      });\n      const blob = new Blob([JSON.stringify(ciphertextHandles)]);\n      const cid = await client.put([new File([blob], \"ciphertext.json\")], {\n        wrapWithDirectory: false\n      });\n      console.log(\"上传 IPFS CID:\", cid);\n\n      // 3️⃣ 链上存 CID\n      const tx = await contract.mintWithCID(await signer.getAddress(), cid, {\n        gasLimit: 300000\n      });\n      setTxHash(tx.hash);\n      setShowFireworks(true);\n    } catch (err) {\n      console.error(err);\n      alert(\"Mint 失败: \" + err.message);\n    } finally {\n      setMinting(false);\n      setProgress(0);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"2rem\",\n      position: \"relative\"\n    },\n    children: [showFireworks && /*#__PURE__*/_jsxDEV(Confetti, {\n      width: width,\n      height: height\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: \"1rem\",\n        right: \"1rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          padding: \"0.3rem 0.8rem\",\n          borderRadius: \"0.5rem\",\n          cursor: \"pointer\"\n        },\n        onClick: walletAddress ? disconnectWallet : connectWallet,\n        children: walletAddress ? shortenAddress(walletAddress) : \"连接钱包\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"ZAMA NFT DApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: NFT_NAME\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.img, {\n      src: catImage,\n      alt: \"cat\",\n      style: {\n        width: 300,\n        height: 300,\n        borderRadius: \"1rem\"\n      },\n      initial: {\n        opacity: 0,\n        scale: 0.8\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        duration: 0.5\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        maxWidth: \"400px\",\n        margin: \"0.5rem auto\"\n      },\n      children: NFT_DESC\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), !showFireworks && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          padding: \"0.5rem 1.5rem\",\n          fontSize: \"1rem\",\n          borderRadius: \"0.5rem\",\n          cursor: \"pointer\"\n        },\n        onClick: handleMint,\n        disabled: !walletAddress || !fheReady || minting,\n        children: minting ? `Minting... ${progress}%` : \"Mint ZAMA-NFT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), showFireworks && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Mint \\u6210\\u529F\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), txHash && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u4EA4\\u6613: \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://sepolia.etherscan.io/tx/${txHash}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: txHash\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SJVOpXhb0N7JeMvxy9Jihnm04PA=\", false, function () {\n  return [useWindowSize];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","ethers","motion","Confetti","useWindowSize","jsxDEV","_jsxDEV","CONTRACT_ADDRESS","ABI","inputs","internalType","name","type","outputs","stateMutability","NFT_NAME","NFT_DESC","catImage","SEPOLIA_PARAMS","chainId","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","fheInstance","Web3Storage","App","_s","walletAddress","setWalletAddress","showFireworks","setShowFireworks","txHash","setTxHash","fheReady","setFheReady","minting","setMinting","progress","setProgress","width","height","loadSDKs","initSDK","createInstance","aclContractAddress","kmsContractAddress","inputVerifierContractAddress","verifyingContractAddressDecryption","verifyingContractAddressInputVerification","gatewayChainId","network","window","ethereum","relayerUrl","web3Module","console","log","err","error","shortenAddress","address","slice","getContract","signer","Contract","connectWallet","alert","request","method","params","switchError","code","accounts","message","disconnectWallet","handleMint","provider","BrowserProvider","getSigner","contract","encodedText","toUtf8Bytes","chunkSize","ciphertextHandles","i","length","chunk","buffer","createEncryptedInput","getAddress","j","add64","BigInt","ciphertext","encrypt","push","handles","Math","min","floor","Promise","resolve","setTimeout","token","client","blob","Blob","JSON","stringify","cid","put","File","wrapWithDirectory","tx","mintWithCID","gasLimit","hash","style","textAlign","padding","position","children","fileName","_jsxFileName","lineNumber","columnNumber","top","right","borderRadius","cursor","onClick","img","src","alt","initial","opacity","scale","animate","transition","duration","maxWidth","margin","marginTop","fontSize","disabled","href","target","rel","_c","$RefreshReg$"],"sources":["/Users/chenyudong/Desktop/fhevm-nft-dapp/fhevm-nft-dapp-zama/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { motion } from \"framer-motion\";\nimport Confetti from \"react-confetti\";\nimport { useWindowSize } from \"react-use\";\nimport \"./index.css\";\n\nconst CONTRACT_ADDRESS = \"0x4c020a37c1eae6138c5bbe028fe17992b3902f9f\";\nconst ABI = [\n  {\n    inputs: [\n      { internalType: \"address\", name: \"to\", type: \"address\" },\n      { internalType: \"string\", name: \"cid\", type: \"string\" }\n    ],\n    name: \"mintWithCID\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  }\n];\n\nconst NFT_NAME = \"ZamaPuff\";\nconst NFT_DESC = \"这是 ZAMA 吉祥物的 NFT，象征智慧与好奇心，独一无二的数字收藏品。\";\nconst catImage = \"https://i.imgur.com/YUeySct.png\";\n\nconst SEPOLIA_PARAMS = {\n  chainId: \"0xaa36a7\",\n  chainName: \"Sepolia Test Network\",\n  nativeCurrency: { name: \"Sepolia Ether\", symbol: \"ETH\", decimals: 18 },\n  rpcUrls: [\"https://rpc.sepolia.org\"],\n  blockExplorerUrls: [\"https://sepolia.etherscan.io\"]\n};\n\nlet fheInstance = null;\nlet Web3Storage = null;\n\nfunction App() {\n  const [walletAddress, setWalletAddress] = useState(null);\n  const [showFireworks, setShowFireworks] = useState(false);\n  const [txHash, setTxHash] = useState(null);\n  const [fheReady, setFheReady] = useState(false);\n  const [minting, setMinting] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const { width, height } = useWindowSize();\n\n  // 初始化 FHE SDK 和 Web3.Storage\n  useEffect(() => {\n    const loadSDKs = async () => {\n      try {\n        const { initSDK, createInstance } = await import(\n          \"https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.js\"\n        );\n        await initSDK();\n        fheInstance = await createInstance({\n          aclContractAddress: '0x687820221192C5B662b25367F70076A37bc79b6c',\n          kmsContractAddress: '0x1364cBBf2cDF5032C47d8226a6f6FBD2AFCDacAC',\n          inputVerifierContractAddress: '0xbc91f3daD1A5F19F8390c400196e58073B6a0BC4',\n          verifyingContractAddressDecryption: '0xb6E160B1ff80D67Bfe90A85eE06Ce0A2613607D1',\n          verifyingContractAddressInputVerification: '0x7048C39f048125eDa9d678AEbaDfB22F7900a29F',\n          chainId: 11155111,\n          gatewayChainId: 55815,\n          network: window.ethereum,\n          relayerUrl: 'https://relayer.testnet.zama.cloud',\n        });\n\n        // 使用 CDN 引入 Web3.Storage\n        const web3Module = await import(\n          'https://cdn.jsdelivr.net/npm/web3.storage/dist/bundle.esm.min.js'\n        );\n        Web3Storage = web3Module.Web3Storage;\n\n        setFheReady(true);\n        console.log(\"Zama SDK + Web3.Storage 初始化完成\");\n      } catch (err) {\n        console.error(\"SDK 初始化失败:\", err);\n      }\n    };\n    loadSDKs();\n  }, []);\n\n  const shortenAddress = (address) =>\n    address ? address.slice(0, 6) + \"...\" + address.slice(-4) : \"\";\n\n  const getContract = (signer) => new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);\n\n  const connectWallet = async () => {\n    if (!window.ethereum) { alert(\"请安装 MetaMask!\"); return; }\n    try {\n      const chainId = await window.ethereum.request({ method: \"eth_chainId\" });\n      if (chainId !== SEPOLIA_PARAMS.chainId) {\n        try {\n          await window.ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [{ chainId: SEPOLIA_PARAMS.chainId }]\n          });\n        } catch (switchError) {\n          if (switchError.code === 4902) {\n            await window.ethereum.request({\n              method: \"wallet_addEthereumChain\",\n              params: [SEPOLIA_PARAMS]\n            });\n          } else { throw switchError; }\n        }\n      }\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      console.error(err);\n      alert(\"连接钱包失败: \" + err.message);\n    }\n  };\n\n  const disconnectWallet = () => {\n    setWalletAddress(null);\n    setShowFireworks(false);\n    setTxHash(null);\n  };\n\n  // Mint NFT: FHE 加密 -> 上传 IPFS -> 链上存 CID\n  const handleMint = async () => {\n    if (!walletAddress) { alert(\"请先连接钱包\"); return; }\n    if (!fheReady) { alert(\"SDK 初始化中，请稍等\"); return; }\n\n    setMinting(true);\n    setProgress(0);\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const contract = getContract(signer);\n\n      // 1️⃣ Zama FHE 加密\n      const encodedText = ethers.toUtf8Bytes(`${NFT_NAME} - ${NFT_DESC}`);\n      const chunkSize = 32;\n      let ciphertextHandles = [];\n\n      for (let i = 0; i < encodedText.length; i += chunkSize) {\n        const chunk = encodedText.slice(i, i + chunkSize);\n        const buffer = fheInstance.createEncryptedInput(CONTRACT_ADDRESS, await signer.getAddress());\n\n        for (let j = 0; j < chunk.length; j++) {\n          buffer.add64(BigInt(chunk[j]));\n        }\n\n        const ciphertext = await buffer.encrypt();\n        ciphertextHandles.push(...ciphertext.handles);\n\n        setProgress(Math.min(100, Math.floor(((i + chunk.length) / encodedText.length) * 100)));\n        await new Promise(resolve => setTimeout(resolve, 50)); // 防止浏览器卡顿\n      }\n\n      // 2️⃣ 上传加密数据到 IPFS\n      const token = \"YOUR_WEB3STORAGE_API_TOKEN\"; // 替换成你自己的\n      const client = new Web3Storage({ token });\n      const blob = new Blob([JSON.stringify(ciphertextHandles)]);\n      const cid = await client.put([new File([blob], \"ciphertext.json\")], { wrapWithDirectory: false });\n      console.log(\"上传 IPFS CID:\", cid);\n\n      // 3️⃣ 链上存 CID\n      const tx = await contract.mintWithCID(await signer.getAddress(), cid, { gasLimit: 300_000 });\n      setTxHash(tx.hash);\n      setShowFireworks(true);\n    } catch (err) {\n      console.error(err);\n      alert(\"Mint 失败: \" + err.message);\n    } finally {\n      setMinting(false);\n      setProgress(0);\n    }\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"2rem\", position: \"relative\" }}>\n      {showFireworks && <Confetti width={width} height={height} />}\n      <div style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}>\n        <button\n          style={{ padding: \"0.3rem 0.8rem\", borderRadius: \"0.5rem\", cursor: \"pointer\" }}\n          onClick={walletAddress ? disconnectWallet : connectWallet}>\n          {walletAddress ? shortenAddress(walletAddress) : \"连接钱包\"}\n        </button>\n      </div>\n\n      <h1>ZAMA NFT DApp</h1>\n      <h2>{NFT_NAME}</h2>\n\n      <motion.img\n        src={catImage}\n        alt=\"cat\"\n        style={{ width: 300, height: 300, borderRadius: \"1rem\" }}\n        initial={{ opacity: 0, scale: 0.8 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 0.5 }}\n      />\n\n      <p style={{ maxWidth: \"400px\", margin: \"0.5rem auto\" }}>{NFT_DESC}</p>\n\n      {!showFireworks && (\n        <div style={{ marginTop: \"1rem\" }}>\n          <button\n            style={{ padding: \"0.5rem 1.5rem\", fontSize: \"1rem\", borderRadius: \"0.5rem\", cursor: \"pointer\" }}\n            onClick={handleMint}\n            disabled={!walletAddress || !fheReady || minting}>\n            {minting ? `Minting... ${progress}%` : \"Mint ZAMA-NFT\"}\n          </button>\n        </div>\n      )}\n\n      {showFireworks && (\n        <div style={{ marginTop: \"1rem\" }}>\n          <h2>Mint 成功！</h2>\n          {txHash && (\n            <p>\n              交易: <a href={`https://sepolia.etherscan.io/tx/${txHash}`} target=\"_blank\" rel=\"noopener noreferrer\">{txHash}</a>\n            </p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}